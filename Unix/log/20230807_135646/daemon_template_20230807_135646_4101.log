+ echo ========================================================
========================================================
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo '= Log Started 230807_135646  ==========================='
= Log Started 230807_135646  ===========================
+ echo ========================================================
========================================================
+ init_work
+ [[ ! -d ./work/20230807_135646 ]]
+ mkdir -p ./work/20230807_135646
+ create_pid_file 4101
+ INPUT_PID=4101
+ print_log_message INFO 'Started create_pid_file function'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Started create_pid_file function'
Message : Started create_pid_file function
+ echo ========================================================
========================================================
+ print_par 'create_pid_file $$' 4101
+ echo '[create_pid_file $$=4101]'
[create_pid_file $$=4101]
+ print_par 'input pid' 4101
+ echo '[input pid=4101]'
[input pid=4101]
+ '[' -f ./work/20230807_135646/daemon_template.pid ']'
+ echo 4101
+ '[' 0 -ne 0 ']'
cat $PID_FILE
++ cat ./work/20230807_135646/daemon_template.pid
+ print_log_message INFO 'PID file created succesfully, PID=4101'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : PID file created succesfully, PID=4101'
Message : PID file created succesfully, PID=4101
+ echo ========================================================
========================================================
+ print_log_message INFO 'Finished create_pid_file function'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Finished create_pid_file function'
Message : Finished create_pid_file function
+ echo ========================================================
========================================================
+ read_input -s -p TEST
+ getopts sp: opt_flag
+ case "${opt_flag}" in
+ echo 'flag -s is set'
flag -s is set
+ FLAG_1=TRUE
+ getopts sp: opt_flag
+ case "${opt_flag}" in
+ echo 'flag -p is set'
flag -p is set
+ export ARGUMENT_2=TEST
+ ARGUMENT_2=TEST
+ echo 'argument : TEST'
argument : TEST
+ getopts sp: opt_flag
+ '[' -z TRUE ']'
+ '[' -z TEST ']'
+ trap 'SIGINT_handler;' INT
+ trap 'SIGTERM_handler;' SIGTERM
+ cd ./bin
+ make
gcc inner.o -o inner
+ print_log_divider
+ echo ========================================================
========================================================
+ daemon_loop
+ '[' -f ./work/20230807_135646/daemon_template.pid ']'
+ print_log_message INFO 'Running C executable'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Running C executable'
Message : Running C executable
+ echo ========================================================
========================================================
+ ././bin/inner
Hello There+ delete_pid_file 44944944
+ '[' -z 44944944 ']'
+ INPUT_PID=44944944
+ print_par INPUT_PID 44944944
+ echo '[INPUT_PID=44944944]'
[INPUT_PID=44944944]
+ print_log_message INFO 'Started delete_pid_file function'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Started delete_pid_file function'
Message : Started delete_pid_file function
+ echo ========================================================
========================================================
+ '[' -f ./work/20230807_135646/daemon_template.pid ']'
+ print_log_message INFO 'deleting PID file: ./work/20230807_135646/daemon_template.pid'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : deleting PID file: ./work/20230807_135646/daemon_template.pid'
Message : deleting PID file: ./work/20230807_135646/daemon_template.pid
+ echo ========================================================
========================================================
+ rm ./work/20230807_135646/daemon_template.pid
+ print_log_message INFO 'Daemon daemon_template has stopped'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135646 '
Timestamp : 230807_135646 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Daemon daemon_template has stopped'
Message : Daemon daemon_template has stopped
+ echo ========================================================
========================================================
+ sleep 10
+ '[' -f ./work/20230807_135646/daemon_template.pid ']'
+ print_log_message INFO 'Process Ended'
date +'%y%m%d_%H%M%S '
++ date '+%y%m%d_%H%M%S '
+ echo 'Timestamp : 230807_135656 '
Timestamp : 230807_135656 
+ echo 'Severity : INFO'
Severity : INFO
+ echo 'Message : Process Ended'
Message : Process Ended
+ echo ========================================================
========================================================
